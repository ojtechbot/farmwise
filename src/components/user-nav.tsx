'use client';
import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar"
import { Button } from "@/components/ui/button"
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu"
import { LogOut, Settings, User } from "lucide-react"
import Link from "next/link"
import { useAuth } from "@/context/auth-context"
import { useRouter } from "next/navigation";

export function UserNav() {
  const { user, signOut, loading } = useAuth();
  const router = useRouter();

  if (loading) {
    return null;
  }

  if (!user) {
    return (
       <Button asChild>
          <Link href="/login">Login</Link>
        </Button>
    )
  }

  const handleSignOut = () => {
    signOut();
    router.push('/login');
  };

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="ghost" className="relative h-8 w-8 rounded-full">
          <Avatar className="h-8 w-8">
            <AvatarImage src={user.photoURL || "data:image/jpeg;base64,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"} alt={user.displayName || "User"} />
            <AvatarFallback>{user.displayName?.charAt(0) || 'U'}</AvatarFallback>
          </Avatar>
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent className="w-56" align="end" forceMount>
        <DropdownMenuLabel className="font-normal">
          <div className="flex flex-col space-y-1">
            <p className="text-sm font-medium leading-none">{user.displayName || 'User'}</p>
            <p className="text-xs leading-none text-muted-foreground">
              {user.email}
            </p>
          </div>
        </DropdownMenuLabel>
        <DropdownMenuSeparator />
        <DropdownMenuGroup>
          <DropdownMenuItem asChild>
            <Link href="/dashboard/profile">
              <User className="mr-2 h-4 w-4" />
              <span>Profile</span>
            </Link>
          </DropdownMenuItem>
          <DropdownMenuItem asChild>
            <Link href="/dashboard/settings">
              <Settings className="mr-2 h-4 w-4" />
              <span>Settings</span>
            </Link>
          </DropdownMenuItem>
        </DropdownMenuGroup>
        <DropdownMenuSeparator />
        <DropdownMenuItem onClick={handleSignOut}>
            <LogOut className="mr-2 h-4 w-4" />
            <span>Log out</span>
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  )
}
